import{H as S,d as J,r as y,c as K,e as o,o as g,f as C,g as t,w as l,h as u,i as p,A as N,k as r,t as v,F as z,n as q,p as A,I as w,_ as O}from"./index-39dd0681.js";const Q=(i,a)=>S.get(`/admin/product/list/${i}/${a}`),W=i=>S.get("/admin/product/onSale/"+i),X=i=>S.get("/admin/product/cancelSale/"+i),Y=i=>S.get("/admin/product/getSkuInfo/"+i),Z=i=>S.delete("/admin/product/deleteSku/"+i),ee=["src"],te=["src"],le=J({__name:"index",setup(i){let a=y(1),f=y(10),B=y(0),I=y([]),x=y(!1),c=K({});const h=s=>{k(a.value)},$=s=>{k()},E=async s=>{s.isSale===1?(await X(s.id)).code===200&&(w({type:"success",message:"下架成功"}),k(a.value)):(await W(s.id)).code===200&&(w({type:"success",message:"上架成功"}),k(a.value))},F=()=>{w({type:"success",message:"有待开发，敬请期待。。。"})},k=async(s=1)=>{a.value=s;let e=await Q(a.value,f.value);console.log(e),e.code===200&&(B.value=e.data.total,I.value=e.data.records)},U=async s=>{x.value=!0;let e=await Y(s.id);e.code===200&&(c=e.data,console.log(c))},H=async s=>{(await Z(s)).code==200?(w({type:"success",message:"删除成功"}),k(I.value.length>1?a.value:a.value-1)):w({type:"error",message:"删除失败"})};return(s,e)=>{const _=o("el-table-column"),b=o("el-button"),P=o("el-table"),R=o("el-pagination"),T=o("el-card"),d=o("el-col"),m=o("el-row"),D=o("el-tag"),j=o("el-carousel-item"),M=o("el-carousel"),G=o("el-drawer");return g(),C(z,null,[t(T,null,{default:l(()=>[t(P,{border:"",style:{"margin-bottom":"10px"},data:u(I)},{default:l(()=>[t(_,{label:"序号",type:"index",align:"center",width:"80px"}),t(_,{label:"名称","show-overflow-tooltip":"",align:"center",width:"250px",prop:"skuName"}),t(_,{label:"描述","show-overflow-tooltip":"",align:"center",width:"250px",prop:"skuDesc"}),t(_,{label:"图片",align:"center",width:"180px"},{default:l(({row:n,$index:V})=>[p("img",{src:n.skuDefaultImg,alt:"",style:{width:"80px",height:"80px"}},null,8,ee)]),_:1}),t(_,{label:"重量",align:"center",width:"180px",prop:"weight"}),t(_,{label:"价格",align:"center",width:"180px",prop:"price"}),t(_,{label:"操作",align:"center",width:"300px",fixed:"right"},{default:l(({row:n,$index:V})=>[t(b,{type:"primary",size:"small",icon:n.isSale==1?"Bottom":"Top",onClick:L=>E(n)},null,8,["icon","onClick"]),t(b,{type:"success",size:"small",icon:"Edit",onClick:F}),t(b,{type:"info",size:"small",icon:"InfoFilled",onClick:L=>U(n)},null,8,["onClick"]),t(b,{type:"danger",size:"small",icon:"Delete",onClick:L=>H(n.id)},null,8,["onClick"])]),_:1})]),_:1},8,["data"]),t(R,{"current-page":u(a),"onUpdate:currentPage":e[0]||(e[0]=n=>N(a)?a.value=n:a=n),"page-size":u(f),"onUpdate:pageSize":e[1]||(e[1]=n=>N(f)?f.value=n:f=n),"page-sizes":[10,20,30,40],background:!0,layout:"total, sizes, prev, pager, next, jumper",total:u(B),onCurrentChange:h,onSizeChange:$},null,8,["current-page","page-size","total"])]),_:1}),t(G,{modelValue:u(x),"onUpdate:modelValue":e[2]||(e[2]=n=>N(x)?x.value=n:x=n)},{header:l(()=>e[3]||(e[3]=[p("h1",{style:{"text-align":"center"}},"sku详情",-1)])),default:l(()=>[p("div",null,[t(m,{style:{margin:"10px 0"}},{default:l(()=>[t(d,{span:6},{default:l(()=>e[4]||(e[4]=[r("名称:")])),_:1,__:[4]}),t(d,{span:18},{default:l(()=>[r(v(u(c).skuName),1)]),_:1})]),_:1}),e[10]||(e[10]=p("hr",null,null,-1)),t(m,{style:{margin:"10px 0"}},{default:l(()=>[t(d,{span:6},{default:l(()=>e[5]||(e[5]=[r("描述:")])),_:1,__:[5]}),t(d,{span:18},{default:l(()=>[r(v(u(c).skuDesc),1)]),_:1})]),_:1}),e[11]||(e[11]=p("hr",null,null,-1)),t(m,{style:{margin:"10px 0"}},{default:l(()=>[t(d,{span:6},{default:l(()=>e[6]||(e[6]=[r("价格:")])),_:1,__:[6]}),t(d,{span:18},{default:l(()=>[r(v(u(c).price),1)]),_:1})]),_:1}),e[12]||(e[12]=p("hr",null,null,-1)),t(m,{style:{margin:"10px 0"}},{default:l(()=>[t(d,{span:6},{default:l(()=>e[7]||(e[7]=[r("平台属性:")])),_:1,__:[7]}),(g(!0),C(z,null,q(u(c).skuAttrValueList,(n,V)=>(g(),A(D,{key:n.id,style:{"margin-right":"10px"}},{default:l(()=>[r(v(n.attrName),1)]),_:2},1024))),128))]),_:1}),e[13]||(e[13]=p("hr",null,null,-1)),t(m,{style:{margin:"10px 0"}},{default:l(()=>[t(d,{span:6},{default:l(()=>e[8]||(e[8]=[r("销售属性:")])),_:1,__:[8]}),(g(!0),C(z,null,q(u(c).skuSaleAttrValueList,(n,V)=>(g(),A(D,{type:"success",key:n.id,style:{"margin-right":"10px"}},{default:l(()=>[r(v(n.saleAttrName),1)]),_:2},1024))),128))]),_:1}),e[14]||(e[14]=p("hr",null,null,-1)),t(m,{style:{margin:"10px 0"}},{default:l(()=>[t(d,{span:6},{default:l(()=>e[9]||(e[9]=[r("商品图片:")])),_:1,__:[9]}),t(d,{span:18},{default:l(()=>[t(M,{interval:4e3,type:"card",height:"200px"},{default:l(()=>[(g(!0),C(z,null,q(u(c).skuImageList,n=>(g(),A(j,{key:n},{default:l(()=>[p("img",{src:n,alt:""},null,8,te)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})])]),footer:l(()=>e[15]||(e[15]=[])),_:1},8,["modelValue"])],64)}}});const ae=O(le,[["__scopeId","data-v-13a43f74"]]);export{ae as default};
